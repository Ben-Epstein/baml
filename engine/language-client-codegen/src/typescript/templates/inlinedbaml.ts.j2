// This file has the baml files represented as base64 strings for easier bundling in NextJS and other platforms. You can ignore this.
export function b64DecodeUnicode(str: string) {
  return decodeURIComponent(
    Array.prototype.map
      .call(atob(str), function (c) {
        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)
      })
      .join(''),
  )
}

export const bamlFilesBase64 = "{{ filemap_base64 }}" 
export const getBamlFiles = () => {
    const fileMap = JSON.parse(b64DecodeUnicode(bamlFilesBase64))
    for (const [path, content] of Object.entries(fileMap)) {
        fileMap[path] = content
    }
    return fileMap
}