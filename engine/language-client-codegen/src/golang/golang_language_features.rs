use crate::dir_writer::{FileCollector, LanguageFeatures};

#[derive(Default)]
pub(super) struct GolangLanguageFeatures {}

impl LanguageFeatures for GolangLanguageFeatures {
    fn content_prefix(&self) -> &'static str {
        // "typed: strict" is set on a per-file basis in Golang
        r#"
###############################################################################
#
#  Welcome to Baml! To use this generated code, please run the following:
#
#  $ bundle add sorbet-runtime sorbet-coerce sorbet-struct-comparable
#
###############################################################################

# This file was generated by BAML: please do not edit it.
#
# frozen_string_literal: true
# rubocop: disable
# formatter:off
        "#
        .trim()
    }

    fn to_file_path(&self, name: &str) -> std::path::PathBuf {
        std::path::PathBuf::from(name.to_lowercase()).with_extension("rb")
    }
}

pub(super) trait ToGolang {
    fn to_golang(&self) -> String;
}
